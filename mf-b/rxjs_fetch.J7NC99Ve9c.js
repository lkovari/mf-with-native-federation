import{j as s}from"./chunk-GLAJW5FB.js";import{a as u}from"./chunk-X2IYAD47.js";import{t as v}from"./chunk-UNTFETUU.js";import"./chunk-4CLCTAJ7.js";import{__assign as d,__rest as g}from"tslib";function h(p,e){e===void 0&&(e={});var f=e.selector,i=g(e,["selector"]);return new v(function(r){var o=new AbortController,l=o.signal,t=!0,n=i.signal;if(n)if(n.aborted)o.abort();else{var c=function(){l.aborted||o.abort()};n.addEventListener("abort",c),r.add(function(){return n.removeEventListener("abort",c)})}var b=d(d({},i),{signal:l}),m=function(a){t=!1,r.error(a)};return fetch(p,b).then(function(a){f?s(f(a)).subscribe(u(r,void 0,function(){t=!1,r.complete()},m)):(t=!1,r.next(a),r.complete())}).catch(m),function(){t&&o.abort()}})}export{h as fromFetch};