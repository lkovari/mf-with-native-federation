import{b as p}from"./chunk-QEB6MTLB.js";import{a as g,b as _,c as E,d as k,e as O,f as N,g as P,h as T,i as R,j as s}from"./chunk-GLAJW5FB.js";import{a as A}from"./chunk-X2IYAD47.js";import{d as S}from"./chunk-AUD5QIW6.js";import{a as c,d as w,e as I,t as f}from"./chunk-UNTFETUU.js";var x=function(){function r(e,o){o===void 0&&(o=r.now),this.schedulerActionCtor=e,this.now=o}return r.prototype.schedule=function(e,o,t){return o===void 0&&(o=0),new this.schedulerActionCtor(this,e).schedule(t,o)},r.now=S.now,r}();var y=new f(function(r){return r.complete()});function or(r){return r?Q(r):y}function Q(r){return new f(function(e){return r.schedule(function(){return e.complete()})})}function l(r,e,o,t,n){t===void 0&&(t=0),n===void 0&&(n=!1);var i=e.schedule(function(){o(),n?r.add(this.schedule(null,t)):this.unsubscribe()},t);if(r.add(i),!n)return i}function d(r,e){return e===void 0&&(e=0),p(function(o,t){o.subscribe(A(t,function(n){return l(t,r,function(){return t.next(n)},e)},function(){return l(t,r,function(){return t.complete()},e)},function(n){return l(t,r,function(){return t.error(n)},e)}))})}function h(r,e){return e===void 0&&(e=0),p(function(o,t){t.add(r.schedule(function(){return o.subscribe(t)},e))})}function C(r,e){return s(r).pipe(h(e),d(e))}function F(r,e){return s(r).pipe(h(e),d(e))}function L(r,e){return new f(function(o){var t=0;return e.schedule(function(){t===r.length?o.complete():(o.next(r[t++]),o.closed||this.schedule())})})}function M(r,e){return new f(function(o){var t;return l(o,e,function(){t=r[N](),l(o,e,function(){var n,i,u;try{n=t.next(),i=n.value,u=n.done}catch(a){o.error(a);return}u?o.complete():o.next(i)},0,!0)}),function(){return c(t?.return)&&t.return()}})}function v(r,e){if(!r)throw new Error("Iterable cannot be null");return new f(function(o){l(o,e,function(){var t=r[Symbol.asyncIterator]();l(o,e,function(){t.next().then(function(n){n.done?o.complete():o.next(n.value)})},0,!0)})})}function q(r,e){return v(T(r),e)}function V(r,e){if(r!=null){if(E(r))return C(r,e);if(g(r))return L(r,e);if(_(r))return F(r,e);if(k(r))return v(r,e);if(P(r))return M(r,e);if(R(r))return q(r,e)}throw O(r)}function Y(r,e){return e?V(r,e):s(r)}function G(r){return r&&c(r.schedule)}function b(r){return r[r.length-1]}function re(r){return c(b(r))?r.pop():void 0}function U(r){return G(b(r))?r.pop():void 0}function ee(r,e){return typeof b(r)=="number"?r.pop():e}function X(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var o=U(r);return Y(r,o)}function j(r,e){var o=c(r)?r:function(){return r},t=function(n){return n.error(o())};return new f(e?function(n){return e.schedule(t,0,n)}:t)}var W=function(r){return r.NEXT="N",r.ERROR="E",r.COMPLETE="C",r}(W||{}),pe=function(){function r(e,o,t){this.kind=e,this.value=o,this.error=t,this.hasValue=e==="N"}return r.prototype.observe=function(e){return Z(this,e)},r.prototype.do=function(e,o,t){var n=this,i=n.kind,u=n.value,a=n.error;return i==="N"?e?.(u):i==="E"?o?.(a):t?.()},r.prototype.accept=function(e,o,t){var n;return c((n=e)===null||n===void 0?void 0:n.next)?this.observe(e):this.do(e,o,t)},r.prototype.toObservable=function(){var e=this,o=e.kind,t=e.value,n=e.error,i=o==="N"?X(t):o==="E"?j(function(){return n}):o==="C"?y:0;if(!i)throw new TypeError("Unexpected notification kind "+o);return i},r.createNext=function(e){return new r("N",e)},r.createError=function(e){return new r("E",void 0,e)},r.createComplete=function(){return r.completeNotification},r.completeNotification=new r("C"),r}();function Z(r,e){var o,t,n,i=r,u=i.kind,a=i.value,J=i.error;if(typeof u!="string")throw new TypeError("Invalid notification, missing \"kind\"");u==="N"?(o=e.next)===null||o===void 0||o.call(e,a):u==="E"?(t=e.error)===null||t===void 0||t.call(e,J):(n=e.complete)===null||n===void 0||n.call(e)}import{__read as z,__spreadArray as B}from"tslib";var m={setInterval:function(r,e){for(var o=[],t=2;t<arguments.length;t++)o[t-2]=arguments[t];var n=m.delegate;return n?.setInterval?n.setInterval.apply(n,B([r,e],z(o))):setInterval.apply(void 0,B([r,e],z(o)))},clearInterval:function(r){var e=m.delegate;return(e?.clearInterval||clearInterval)(r)},delegate:void 0};import{__extends as K}from"tslib";import{__extends as $}from"tslib";var D=function(r){$(e,r);function e(o,t){return r.call(this)||this}return e.prototype.schedule=function(o,t){return t===void 0&&(t=0),this},e}(I);var ge=function(r){K(e,r);function e(o,t){var n=r.call(this,o,t)||this;return n.scheduler=o,n.work=t,n.pending=!1,n}return e.prototype.schedule=function(o,t){var n;if(t===void 0&&(t=0),this.closed)return this;this.state=o;var i=this.id,u=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(u,this.id,t),this},e.prototype.requestAsyncId=function(o,t,n){return n===void 0&&(n=0),m.setInterval(o.flush.bind(o,this),n)},e.prototype.recycleAsyncId=function(o,t,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return t;t!=null&&m.clearInterval(t)},e.prototype.execute=function(o,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(o,t);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(o,t){var n=!1,i;try{this.work(o)}catch(u){n=!0,i=u||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var o=this,t=o.id,n=o.scheduler,i=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,w(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,r.prototype.unsubscribe.call(this)}},e}(D);import{__extends as H}from"tslib";var Oe=function(r){H(e,r);function e(o,t){t===void 0&&(t=x.now);var n=r.call(this,o,t)||this;return n.actions=[],n._active=!1,n}return e.prototype.flush=function(o){var t=this.actions;if(this._active){t.push(o);return}var n;this._active=!0;do if(n=o.execute(o.state,o.delay))break;while(o=t.shift());if(this._active=!1,n){for(;o=t.shift();)o.unsubscribe();throw n}},e}(x);export{m as a,ge as b,x as c,Oe as d,y as e,or as f,G as g,re as h,U as i,ee as j,l as k,d as l,h as m,M as n,V as o,Y as p,X as q,j as r,W as s,pe as t,Z as u};